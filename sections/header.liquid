<header class="bg-white shadow-md px-4 py-3">
  <div class="max-w-7xl mx-auto flex items-center justify-between">

    <!-- Left: Logo -->
    <div class="flex items-center">
      <a href="{{ shop.url }}" title="{{ shop.title }}" class="font-2xl text-black uppercase">
        {%- if section.settings.header_logo -%}
          <img src="{{ section.settings.header_logo | img_url: 'master' }}" alt="{{ shop.title }}">
        {%- else -%}
          {{ shop.title }}
        {%- endif -%}
      </a>
    </div>

    <!-- Middle: Menu -->
    <nav>
      <ul class="hidden md:flex gap-6">
        {%- assign header_menu = section.settings.header_menu -%}
        {%- for link in linklists[header_menu] -%}
          <li class="relative group">
          <a href="{{ link.url }}" class="text-gray-700 hover:text-blue-600 font-medium">{{ link.title }}</a>

          <!-- Dropdown menu -->
          <ul class="hidden absolute left-0 mt-2 w-48 bg-white border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10">
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">All Products</a></li>

            <!-- Clothing with grandchild dropdown -->
            <li class="relative group">
              <a href="#" class="px-4 py-2 hover:bg-gray-100 flex justify-between items-center">
                Clothing
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                </svg>
              </a>

              <!-- Grandchild menu -->
              <ul class="absolute top-0 left-full mt-0 w-48 bg-white border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Men</a></li>
                <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Women</a></li>
              </ul>
            </li>

            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Accessories</a></li>
          </ul>
        </li>
        {%- endfor -%}
        <li class="relative group">
          <a href="#" class="text-gray-700 hover:text-blue-600 font-medium"></a>

          <!-- Dropdown menu -->
          <ul class="absolute left-0 mt-2 w-48 bg-white border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10">
            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">All Products</a></li>

            <!-- Clothing with grandchild dropdown -->
            <li class="relative group">
              <a href="#" class="px-4 py-2 hover:bg-gray-100 flex justify-between items-center">
                Clothing
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                </svg>
              </a>

              <!-- Grandchild menu -->
              <ul class="absolute top-0 left-full mt-0 w-48 bg-white border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Men</a></li>
                <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Women</a></li>
              </ul>
            </li>

            <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Accessories</a></li>
          </ul>
        </li>

      </ul>
    </nav>


    <!-- Right: Icons -->
    <div class="flex items-center space-x-4">

      <!-- Search -->
      <button class="p-2 text-gray-600 hover:text-blue-600">
        {%- render 'icons', icon: "search" -%}
      </button>

      <!-- Cart -->
      <button class="p-2 text-gray-600 hover:text-blue-600 relative">
        {%- render 'icons', icon: "bag" -%}
        <span class="absolute top-1 right-1 bg-red-500 text-white text-xs px-1 rounded-full">{{ shop.cart_item }}</span>
      </button>

      <!-- Language -->
      <select class="border rounded px-2 py-1 text-gray-700 text-sm focus:outline-none">
        <option>EN</option>
        <option>BN</option>
        <option>FR</option>
      </select>

      <!-- Profile -->
      <button class="p-2 text-gray-600 hover:text-blue-600">
        LogIn
      </button>

    </div>
  </div>
</header>


{% schema %}
  {
    "name": "Header Section",
    "tag": "section",
    "class": "header-section",
    "settings": [
      {
        "type": "link_list",
        "id": "header_menu",
        "label": "Select Header Menu"
      },
    ],
    "presets": [
      {
        "name": "Header Section",
        "settings": {
        }
      }
    ]
  }
{% endschema %}